version: 2

models:
  - name: dim_customers
    description: "Customer dimension with lifetime metrics."
    columns:
      - name: customer_unique_id
        description: "Primary key"
        tests:
          - unique
          - not_null
      - name: lifetime_revenue
        tests:
          - not_null
      - name: customer_segment
        tests:
          - accepted_values:
              values: ['loyal', 'repeat', 'one_time']

  - name: fct_orders
    description: "Order fact table."
    columns:
      - name: order_id
        description: "Primary key"
        tests:
          - unique
          - not_null
      - name: order_total
        tests:
          - not_null
      - name: order_status
        tests:
          - not_null

  - name: fct_daily_revenue
    description: "Daily revenue aggregates."
    columns:
      - name: order_date
        description: "Primary key"
        tests:
          - unique
          - not_null
      - name: total_revenue
        tests:
          - not_null
